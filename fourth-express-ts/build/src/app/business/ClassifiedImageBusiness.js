"use strict";
// <reference path='../../../typings/tsd.d.ts' />
const ClassifiedImageRepository = require("./../repository/ClassifiedImageRepository");
class ClassifiedImageBusiness {
    constructor() {
        this._classifiedImageRepository = new ClassifiedImageRepository();
    }
    create(req, callback) {
        console.log('i tried to do something before saving the file');
        const fileName = req.file.originalname;
        console.log(fileName);
        const flower = req.body;
        this._classifiedImageRepository.create(flower, callback);
    }
    retrieve(callback) {
        this._classifiedImageRepository.retrieve(callback);
    }
    update(_id, item, callback) {
        this._classifiedImageRepository.findById(_id, (err, res) => {
            if (err) {
                callback(err, res);
            }
            else {
                this._classifiedImageRepository.update(res._id, item, callback);
            }
        });
    }
    delete(_id, callback) {
        this._classifiedImageRepository.delete(_id, callback);
    }
    findById(_id, callback) {
        this._classifiedImageRepository.findById(_id, callback);
    }
}
Object.seal(ClassifiedImageBusiness);
module.exports = ClassifiedImageBusiness;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYnVzaW5lc3MvQ2xhc3NpZmllZEltYWdlQnVzaW5lc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlEQUFpRDtBQUNqRCx1RkFBd0Y7QUFTeEY7SUFHRTtRQUNFLElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLHlCQUF5QixFQUFFLENBQUM7SUFDcEUsQ0FBQztJQUVELE1BQU0sQ0FBRSxHQUF1QyxFQUFFLFFBQTJDO1FBQzFGLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0RBQWdELENBQUMsQ0FBQztRQUc5RCxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUN2QyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXRCLE1BQU0sTUFBTSxHQUFpRCxHQUFHLENBQUMsSUFBSSxDQUFDO1FBR3RFLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxRQUFRLENBQUUsUUFBMkM7UUFDbkQsSUFBSSxDQUFDLDBCQUEwQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQsTUFBTSxDQUFFLEdBQVcsRUFBRSxJQUEyQixFQUFFLFFBQTJDO1FBRTNGLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUc7WUFDckQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDUixRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixJQUFJLENBQUMsMEJBQTBCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2xFLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxNQUFNLENBQUUsR0FBVyxFQUFFLFFBQTRDO1FBQy9ELElBQUksQ0FBQywwQkFBMEIsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFHLFFBQVEsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxRQUFRLENBQUUsR0FBVyxFQUFFLFFBQThEO1FBQ25GLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFELENBQUM7Q0FFRjtBQUdELE1BQU0sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztBQUNyQyxpQkFBUyx1QkFBdUIsQ0FBQyIsImZpbGUiOiJzcmMvYXBwL2J1c2luZXNzL0NsYXNzaWZpZWRJbWFnZUJ1c2luZXNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPHJlZmVyZW5jZSBwYXRoPScuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzJyAvPlxuaW1wb3J0IENsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnkgPSByZXF1aXJlKCcuLy4uL3JlcG9zaXRvcnkvQ2xhc3NpZmllZEltYWdlUmVwb3NpdG9yeScpO1xuaW1wb3J0IElDbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcyA9IHJlcXVpcmUoJy4vaW50ZXJmYWNlcy9DbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcycpO1xuaW1wb3J0IElDbGFzc2lmaWVkSW1hZ2VNb2RlbCA9IHJlcXVpcmUoJy4vLi4vbW9kZWwvaW50ZXJmYWNlcy9DbGFzc2lmaWVkSW1hZ2VNb2RlbCcpO1xuaW1wb3J0IENsYXNzaWZpZWRJbWFnZU1vZGVsID0gcmVxdWlyZSgnLi8uLi9tb2RlbC9DbGFzc2lmaWVkSW1hZ2VNb2RlbCcpO1xuaW1wb3J0IElNdWx0ZXJGaWxlTW9kZWwgPSByZXF1aXJlKCcuLy4uL21vZGVsL2ludGVyZmFjZXMvTXVsdGVyRmlsZU1vZGVsJyk7XG5cbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICdleHByZXNzJztcblxuXG5jbGFzcyBDbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcyAgaW1wbGVtZW50cyBDbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcyB7XG4gIHByaXZhdGUgX2NsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnk6IENsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnk7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuX2NsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnkgPSBuZXcgQ2xhc3NpZmllZEltYWdlUmVwb3NpdG9yeSgpO1xuICB9XG5cbiAgY3JlYXRlIChyZXE6IFJlcXVlc3QgJiB7ZmlsZTogSU11bHRlckZpbGVNb2RlbH0sIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICBjb25zb2xlLmxvZygnaSB0cmllZCB0byBkbyBzb21ldGhpbmcgYmVmb3JlIHNhdmluZyB0aGUgZmlsZScpO1xuXG5cbiAgICBjb25zdCBmaWxlTmFtZSA9IHJlcS5maWxlLm9yaWdpbmFsbmFtZTtcbiAgICBjb25zb2xlLmxvZyhmaWxlTmFtZSk7XG5cbiAgICBjb25zdCBmbG93ZXI6IElDbGFzc2lmaWVkSW1hZ2VNb2RlbCA9IDxJQ2xhc3NpZmllZEltYWdlTW9kZWw+cmVxLmJvZHk7XG5cblxuICAgIHRoaXMuX2NsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnkuY3JlYXRlKGZsb3dlciwgY2FsbGJhY2spO1xuICB9XG5cbiAgcmV0cmlldmUgKGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLl9jbGFzc2lmaWVkSW1hZ2VSZXBvc2l0b3J5LnJldHJpZXZlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHVwZGF0ZSAoX2lkOiBzdHJpbmcsIGl0ZW06IElDbGFzc2lmaWVkSW1hZ2VNb2RlbCwgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuXG4gICAgdGhpcy5fY2xhc3NpZmllZEltYWdlUmVwb3NpdG9yeS5maW5kQnlJZChfaWQsIChlcnIsIHJlcykgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jbGFzc2lmaWVkSW1hZ2VSZXBvc2l0b3J5LnVwZGF0ZShyZXMuX2lkLCBpdGVtLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGUgKF9pZDogc3RyaW5nLCBjYWxsYmFjazogKCBlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgIHRoaXMuX2NsYXNzaWZpZWRJbWFnZVJlcG9zaXRvcnkuZGVsZXRlKF9pZCAsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZpbmRCeUlkIChfaWQ6IHN0cmluZywgY2FsbGJhY2s6ICggZXJyb3I6IGFueSwgcmVzdWx0OiBJQ2xhc3NpZmllZEltYWdlTW9kZWwpID0+IHZvaWQpIHtcbiAgICB0aGlzLl9jbGFzc2lmaWVkSW1hZ2VSZXBvc2l0b3J5LmZpbmRCeUlkKF9pZCwgY2FsbGJhY2spO1xuICB9XG5cbn1cblxuXG5PYmplY3Quc2VhbChDbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcyk7XG5leHBvcnQgPSBDbGFzc2lmaWVkSW1hZ2VCdXNpbmVzcztcbiJdfQ==
